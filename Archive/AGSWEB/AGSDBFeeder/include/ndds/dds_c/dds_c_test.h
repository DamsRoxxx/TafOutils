/* (c) Copyright 2003-2015, Real-Time Innovations, Inc. All rights reserved. */
/*
 * @(#)dds_c_test.h    generated by: makeheader    Fri Feb 16 13:51:58 2018
 *
 *		built from:	test.ifc
 */

#ifndef dds_c_test_h
#define dds_c_test_h


  #ifndef test_setting_h
    #include "test/test_setting.h"
  #endif
  #ifndef dds_c_dll_h
    #include "dds_c/dds_c_dll.h"
  #endif
  #ifndef ndds_config_c_h
    #include "ndds/ndds_config_c.h"
  #endif
  #ifndef clock_interface_h
    #include "clock/clock_interface.h"
  #endif
#ifdef __cplusplus
    extern "C" {
#endif


#define DDS_C_TEST_DSN_MAX_LENGTH 100
#define DDS_C_TEST_LIBNAME_MAX_LENGTH 255
#define DDS_C_TEST_MAX_TEST_DATABASES 10
#define DDS_C_TEST_HELPER_NUM_VERBOSITY_LEVELS 5

/**
 * @brief Takes in an array of NDDS_Config_LogVerbosity[5] and returns the
 * current value for each level in the array
 */
#define DDSCTesteHelper_getVerbosityLevels(verbosityLevels)                 \
{                                                                           \
    int i = 0;                                          \
    NDDS_Config_Logger *logger = NDDS_Config_Logger_get_instance();         \
    for (i = 0; i < DDS_C_TEST_HELPER_NUM_VERBOSITY_LEVELS; ++i) {          \
        verbosityLevels[i] = NDDS_Config_Logger_get_verbosity_by_category(  \
                logger,                                                     \
                (NDDS_Config_LogCategory) i);                               \
    }                                                                       \
}

/**
 * @brief Takes in an array of NDDS_Config_LogVerbosity[5] and sets the
 * verbosity levels of the logger based on the correspoding value in the input
 * array
 */
#define DDSCTesteHelper_setVerbosityLevels(verbosityLevels)                 \
{                                                                           \
    int i = 0;                                                              \
    NDDS_Config_Logger *logger = NDDS_Config_Logger_get_instance();         \
    for (i = 0; i < DDS_C_TEST_HELPER_NUM_VERBOSITY_LEVELS; ++i) {          \
        NDDS_Config_Logger_set_verbosity_by_category(                       \
                logger,                                                     \
                (NDDS_Config_LogCategory) i,                                \
                verbosityLevels[i]);                                        \
    }                                                                       \
}

struct RTIDDSCTestOdbcDatabaseInfo {
    char DSN[DDS_C_TEST_DSN_MAX_LENGTH];
    char odbcDatabaseLib[DDS_C_TEST_LIBNAME_MAX_LENGTH];
};

struct RTIDDSCTestSetting {
    struct RTITestSetting parent;
    int numOdbcDatabases;
    int odbcDatabaseIndex;
    struct RTIDDSCTestOdbcDatabaseInfo 
        testOdbcDatabaseInfo[DDS_C_TEST_MAX_TEST_DATABASES]; 
};


#ifdef __cplusplus
    }	/* extern "C" */
#endif

#endif /* dds_c_test_h */
